<div class="verification-page">
  <div class="verification-container">
    <!-- Header estilo Google -->
    <div class="verification-header">
      <div class="logo-section">
        <h1 class="company-logo">MicroTrust</h1>
        <span class="verification-badge">Verificaci√≥n Estudiantil - Solo Per√∫ üáµüá™</span>
      </div>
    </div>

    <!-- Contenido principal -->
    <div class="verification-content">
      <div class="welcome-section">
        <h2>Verificar tu condici√≥n de estudiante</h2>
        <p class="subtitle">
          Para acceder a las tasas preferenciales para estudiantes, necesitamos verificar tu informaci√≥n acad√©mica.
          <strong style="display: block; margin-top: 10px; color: #c91432;">‚ö†Ô∏è Solo disponible para estudiantes peruanos con DNI</strong>
        </p>
      </div>

      <!-- Formulario de verificaci√≥n -->
      <form (ngSubmit)="submitVerification()" class="verification-form">
        
        <!-- Nombres (autocompletados con DNI) -->
        <div class="form-row">
          <div class="form-group half-width">
            <label for="firstName">
              Nombre(s) <span class="required">*</span>
            </label>
            <input 
              type="text" 
              id="firstName" 
              class="form-control"
              [(ngModel)]="verificationForm.firstName"
              name="firstName"
              placeholder="Se autocompletar√° con tu DNI"
              readonly
              required>
          </div>

          <div class="form-group half-width">
            <label for="lastName">
              Apellido(s) <span class="required">*</span>
            </label>
            <input 
              type="text" 
              id="lastName" 
              class="form-control"
              [(ngModel)]="verificationForm.lastName"
              name="lastName"
              placeholder="Se autocompletar√° con tu DNI"
              readonly
              required>
          </div>
        </div>

        <!-- Correo institucional -->
        <div class="form-group">
          <label for="email">
            Correo Electr√≥nico Institucional <span class="required">*</span>
          </label>
          <div class="email-input-wrapper">
            <input 
              type="text" 
              id="emailUsername" 
              class="form-control email-prefix"
              [(ngModel)]="emailUsername"
              name="emailUsername"
              placeholder="Ej: nombre1"
              (input)="updateEmail()"
              required>
            <span class="email-domain">&#64;MicroTrust.edu.pe</span>
          </div>
          <div class="helper-text">
            <span class="info-icon">‚ÑπÔ∏è</span>
            Solo ingresa tu nombre de usuario. El dominio ya est√° definido
          </div>
        </div>

        <!-- Universidad -->
        <div class="form-group">
          <label for="universityName">
            Nombre de la Universidad <span class="required">*</span>
          </label>
          <select 
            id="universityName" 
            class="form-control"
            [(ngModel)]="verificationForm.universityName"
            name="universityName"
            required>
            <option value="">Selecciona tu universidad</option>
            <option value="Pontificia Universidad Cat√≥lica del Per√∫ (PUCP)">Pontificia Universidad Cat√≥lica del Per√∫ (PUCP)</option>
            <option value="Universidad Nacional Mayor de San Marcos (UNMSM)">Universidad Nacional Mayor de San Marcos (UNMSM)</option>
            <option value="Universidad Peruana Cayetana Heredia (UPCH)">Universidad Peruana Cayetana Heredia (UPCH)</option>
            <option value="Universidad del Pac√≠fico">Universidad del Pac√≠fico</option>
            <option value="Universidad de Lima">Universidad de Lima</option>
            <option value="Universidad Peruana de Ciencias Aplicadas (UPC)">Universidad Peruana de Ciencias Aplicadas (UPC)</option>
            <option value="Universidad Nacional de Ingenier√≠a (UNI)">Universidad Nacional de Ingenier√≠a (UNI)</option>
            <option value="Universidad Nacional Agraria La Molina (UNALM)">Universidad Nacional Agraria La Molina (UNALM)</option>
            <option value="Universidad San Ignacio de Loyola (USIL)">Universidad San Ignacio de Loyola (USIL)</option>
            <option value="Universidad de Piura (UDEP)">Universidad de Piura (UDEP)</option>
            <option value="Universidad ESAN">Universidad ESAN</option>
            <option value="Universidad San Mart√≠n de Porres (USMP)">Universidad San Mart√≠n de Porres (USMP)</option>
            <option value="Universidad Cient√≠fica del Sur">Universidad Cient√≠fica del Sur</option>
            <option value="Universidad Nacional de San Agust√≠n de Arequipa (UNSA)">Universidad Nacional de San Agust√≠n de Arequipa (UNSA)</option>
            <option value="Universidad Ricardo Palma (URP)">Universidad Ricardo Palma (URP)</option>
            <option value="Universidad Nacional de Trujillo (UNT)">Universidad Nacional de Trujillo (UNT)</option>
            <option value="Universidad Cat√≥lica San Pablo, Arequipa">Universidad Cat√≥lica San Pablo, Arequipa</option>
            <option value="Universidad Privada del Norte (UPN)">Universidad Privada del Norte (UPN)</option>
            <option value="Universidad Privada Norbert Wiener">Universidad Privada Norbert Wiener</option>
            <option value="Universidad Nacional de San Antonio Abad del Cusco (UNSAAC)">Universidad Nacional de San Antonio Abad del Cusco (UNSAAC)</option>
            <option value="Universidad Nacional Federico Villarreal (UNFV)">Universidad Nacional Federico Villarreal (UNFV)</option>
            <option value="Universidad Nacional del Altiplano (UNA)">Universidad Nacional del Altiplano (UNA)</option>
            <option value="Universidad C√©sar Vallejo (UCV)">Universidad C√©sar Vallejo (UCV)</option>
            <option value="Universidad Continental">Universidad Continental</option>
            <option value="I.E.S Valle Grande">I.E.S Valle Grande</option>
          </select>
        </div>

        <!-- DNI (C√≥digo de Estudiante) y A√±o de Matr√≠cula -->
        <div class="form-row">
          <div class="form-group half-width">
            <label for="dni">
              DNI (C√≥digo de Estudiante) <span class="required">*</span>
            </label>
            <input 
              type="text" 
              id="dni" 
              class="form-control"
              [(ngModel)]="verificationForm.dni"
              name="dni"
              placeholder="DNI de 8 d√≠gitos"
              maxlength="8"
              (input)="onDniChange()"
              [disabled]="isLoadingDni"
              required>
            <div class="helper-text">
              <span class="info-icon">üÜî</span>
              DNI peruano - autocompleta nombres y apellidos
            </div>
            <div *ngIf="isLoadingDni" class="loading-dni">
              <span class="spinner-small"></span> Verificando DNI...
            </div>
          </div>

          <div class="form-group half-width">
            <label for="enrollmentYear">
              A√±o de Matr√≠cula <span class="required">*</span>
            </label>
            <select 
              id="enrollmentYear" 
              class="form-control"
              [(ngModel)]="verificationForm.enrollmentYear"
              name="enrollmentYear"
              required>
              <option value="">Seleccionar a√±o</option>
              <option *ngFor="let year of enrollmentYears" [value]="year">{{ year }}</option>
            </select>
          </div>
        </div>

        <!-- Carrera/Programa -->
        <div class="form-group">
          <label for="careerProgram">
            Carrera o Programa de Estudios <span class="required">*</span>
          </label>
          <select 
            id="careerProgram" 
            class="form-control"
            [(ngModel)]="verificationForm.careerProgram"
            name="careerProgram"
            required>
            <option value="">Selecciona tu carrera</option>
            <option value="Medicina">Medicina</option>
            <option value="Agronegocios">Agronegocios</option>
            <option value="Geolog√≠a">Geolog√≠a</option>
            <option value="Ingenier√≠a Minera, Metalurgia y Petr√≥leo">Ingenier√≠a Minera, Metalurgia y Petr√≥leo</option>
            <option value="Ciencias de la Computaci√≥n">Ciencias de la Computaci√≥n</option>
            <option value="Ingenier√≠a de Sistemas y C√≥mputo">Ingenier√≠a de Sistemas y C√≥mputo</option>
            <option value="Ingenier√≠a Civil">Ingenier√≠a Civil</option>
            <option value="Derecho">Derecho</option>
            <option value="Econom√≠a">Econom√≠a</option>
            <option value="Ingenier√≠a El√©ctrica">Ingenier√≠a El√©ctrica</option>
            <option value="Ingenier√≠a Mec√°nica">Ingenier√≠a Mec√°nica</option>
            <option value="Enfermer√≠a">Enfermer√≠a</option>
            <option value="Ingenier√≠a de Telecomunicaciones">Ingenier√≠a de Telecomunicaciones</option>
            <option value="Estad√≠stica">Estad√≠stica</option>
            <option value="Ciencias Pol√≠ticas">Ciencias Pol√≠ticas</option>
            <option value="Ingenier√≠a Industrial">Ingenier√≠a Industrial</option>
            <option value="Obstetricia">Obstetricia</option>
            <option value="Ingenier√≠a Electr√≥nica">Ingenier√≠a Electr√≥nica</option>
            <option value="Otras Carreras de Administraci√≥n">Otras Carreras de Administraci√≥n</option>
            <option value="Ingenier√≠a Sanitaria">Ingenier√≠a Sanitaria</option>
          </select>
        </div>

        <!-- Mensaje de error -->
        <div class="alert alert-danger" *ngIf="error">
          <span class="alert-icon">‚ö†Ô∏è</span>
          {{ error }}
        </div>

        <!-- Informaci√≥n de privacidad -->
        <div class="privacy-notice">
          <div class="privacy-icon">üîí</div>
          <div class="privacy-text">
            <strong>Tu privacidad es importante</strong>
            <p>Esta informaci√≥n solo ser√° utilizada para verificar tu condici√≥n de estudiante y otorgarte beneficios especiales.</p>
          </div>
        </div>

        <!-- Botones de acci√≥n -->
        <div class="action-buttons">
          <button 
            type="button" 
            class="btn btn-secondary"
            (click)="cancelVerification()"
            [disabled]="isLoading">
            Cancelar
          </button>
          <button 
            type="submit" 
            class="btn btn-primary"
            [disabled]="isLoading">
            <span *ngIf="!isLoading">‚úì Verificar</span>
            <span *ngIf="isLoading">
              <span class="spinner"></span>
              Verificando...
            </span>
          </button>
        </div>
      </form>
    </div>

    <!-- Footer -->
    <div class="verification-footer">
      <p>¬© 2025 MicroTrust - Sistema de Verificaci√≥n Estudiantil</p>
    </div>
  </div>
</div>

